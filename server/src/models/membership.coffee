ForaDbModel = require('./foramodel').ForaDbModel
models = require('./')

class Membership extends ForaDbModel
    
    @typeDefinition: {
        name: "membership",
        collection: 'memberships',
        schema: {
            type: 'object',        
            properties: {
                userId: { type: 'string' }
                user: { $ref: 'user-summary'},
                forumId: { type: 'string' },
                forum: { $ref: 'forum-summary' },
                roles: { type: 'array', items: { type: 'string' } },
            },
            required: ['userId', 'user', 'forumId', 'forum', 'roles'],
        },
        links: {
            user: { type: 'user', key: 'userId' },
            forum: { type: 'forum', key: 'forumId' }
        },
        autoGenerated: {
            createdAt: { event: 'created' },
            updatedAt: { event: 'updated' }
        },
    }    


exports.Membership = Membership
